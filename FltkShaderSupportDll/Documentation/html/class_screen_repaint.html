<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FLTK Shader Support Library: ScreenRepaint Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FLTK Shader Support Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Extension of the FLTK Fl_Gl_Window to support OpenGL 3.0+ (shader) rendering using some utilities from the OpenGL SuperBible (5th Ed)</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ScreenRepaint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_drawable_object.html" title="Base class for drawing an object in this framework. Extend to draw your own objects.">DrawableObject</a> that takes a 'snapshot' of what's been already been drawn and after processing, renders the result to a screen-aligned textured quad.  
 <a href="class_screen_repaint.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_screen_repaint_8h_source.html">ScreenRepaint.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ScreenRepaint:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_screen_repaint.png" usemap="#ScreenRepaint_map" alt=""/>
  <map id="ScreenRepaint_map" name="ScreenRepaint_map">
<area href="class_drawable_object.html" title="Base class for drawing an object in this framework. Extend to draw your own objects." alt="DrawableObject" shape="rect" coords="0,0,103,24"/>
</map>
 </div></div>

<p><a href="class_screen_repaint-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71bcf622b5c4452b26d2b9f84243bfb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a71bcf622b5c4452b26d2b9f84243bfb1">ScreenRepaint</a> (GLuint activeTexture, const char *vertFileName, const char *fragFileName)</td></tr>
<tr class="memdesc:a71bcf622b5c4452b26d2b9f84243bfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a71bcf622b5c4452b26d2b9f84243bfb1"></a><br/></td></tr>
<tr class="memitem:a751c2d2bd1e6134d28f7602957ee140b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a751c2d2bd1e6134d28f7602957ee140b">~ScreenRepaint</a> (void)</td></tr>
<tr class="memdesc:a751c2d2bd1e6134d28f7602957ee140b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a751c2d2bd1e6134d28f7602957ee140b"></a><br/></td></tr>
<tr class="memitem:a6aac0dc8f8582386a39f2123e7723271"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a6aac0dc8f8582386a39f2123e7723271">resize</a> (int width, int height)</td></tr>
<tr class="memdesc:a6aac0dc8f8582386a39f2123e7723271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the screen-aligned quad and adjusts buffer memory.  <a href="#a6aac0dc8f8582386a39f2123e7723271"></a><br/></td></tr>
<tr class="memitem:a2d0707ffbfbfc21f54913437688fa075"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a2d0707ffbfbfc21f54913437688fa075">render</a> (GLMatrixStack &amp;modelViewStack, GLMatrixStack &amp;projectionStack, GLShaderManager &amp;shaderManager)</td></tr>
<tr class="memdesc:a2d0707ffbfbfc21f54913437688fa075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the quad. Note! THis should be called <em>after</em> all 3D drawing (i.e. after postDraw3D()), but <em>before</em> draw2D() The steps are as follows: First bind the PBO as the pack buffer, then read the pixels directly to the PBO and unbind Next bind the PBO as the unpack buffer, then push the pixels straight into the texture Setup texture unit for the render surface switch to the GL_TEXTURE* value that we are using as our screen texture holder write the pixels unbind Draw full screen quad with screen textures, calling <a class="el" href="class_screen_repaint.html#a7b26ae89de772e886010fbbdaee0fbc6" title="Sets up the screen render shader programs.">setupScreenRenderProg()</a> to access the chaders for the effect desired.  <a href="#a2d0707ffbfbfc21f54913437688fa075"></a><br/></td></tr>
<tr class="memitem:a983641dc820e4eabfb1e6b9a9966d82b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a983641dc820e4eabfb1e6b9a9966d82b">environmentCalc</a> ()</td></tr>
<tr class="memdesc:a983641dc820e4eabfb1e6b9a9966d82b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Environment calculation. In this case, do nothing.  <a href="#a983641dc820e4eabfb1e6b9a9966d82b"></a><br/></td></tr>
<tr class="memitem:a1ef4b6395e8a5758663d57062de966fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a1ef4b6395e8a5758663d57062de966fd">localCleanup</a> ()</td></tr>
<tr class="memdesc:a1ef4b6395e8a5758663d57062de966fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure default FBO is bound Cleanup textures Delete detached textures Delete the pixel buffer.  <a href="#a1ef4b6395e8a5758663d57062de966fd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a49e16becb8912de9898f6fd423289093"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a49e16becb8912de9898f6fd423289093">initFrameBufferObjects</a> ()</td></tr>
<tr class="memdesc:a49e16becb8912de9898f6fd423289093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the frame buffer objects. If this is the first time this method is called, then the shader programs are read in and the texture and pixel buffer object handles are created and stored. Otherwise, if this is called as the result of a resize, a new ortho2D matrix is recalculated, and if the canvas is larger than previous sizes, the pixel buffer size is re-allocated.  <a href="#a49e16becb8912de9898f6fd423289093"></a><br/></td></tr>
<tr class="memitem:a7b26ae89de772e886010fbbdaee0fbc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a7b26ae89de772e886010fbbdaee0fbc6">setupScreenRenderProg</a> (const M3DMatrix44f mat)</td></tr>
<tr class="memdesc:a7b26ae89de772e886010fbbdaee0fbc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the screen render shader programs.  <a href="#a7b26ae89de772e886010fbbdaee0fbc6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a547abbfc913fe100639bd66b350991db"><td class="memItemLeft" align="right" valign="top">GLsizei&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a547abbfc913fe100639bd66b350991db">screenWidth</a></td></tr>
<tr class="memitem:abac42d5d09d3f52c6e2567c524c03049"><td class="memItemLeft" align="right" valign="top">GLsizei&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#abac42d5d09d3f52c6e2567c524c03049">screenHeight</a></td></tr>
<tr class="memitem:aa611aa789845c1503ac2fca30a992168"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#aa611aa789845c1503ac2fca30a992168">fboInitialized</a></td></tr>
<tr class="memitem:acb9d4f9bbb2328a04e59833932b484f5"><td class="memItemLeft" align="right" valign="top">M3DMatrix44f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#acb9d4f9bbb2328a04e59833932b484f5">orthoMatrix</a></td></tr>
<tr class="memitem:a7052a5a8a1d72dcdff0268179a3f54ab"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a7052a5a8a1d72dcdff0268179a3f54ab">vertexFileName</a></td></tr>
<tr class="memitem:ac78e420a0c861ad17c63f5e0ac5473dc"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#ac78e420a0c861ad17c63f5e0ac5473dc">fragmentFileName</a></td></tr>
<tr class="memitem:a89572d6a5da58811afcf33c26d007dd9"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a89572d6a5da58811afcf33c26d007dd9">screenRenderProg</a></td></tr>
<tr class="memitem:a0c691cfa0f3d656b02c019edf8944b6c"><td class="memItemLeft" align="right" valign="top">GLBatch&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a0c691cfa0f3d656b02c019edf8944b6c">screenQuad</a></td></tr>
<tr class="memitem:affc1c0876ba5d8401938b166e6314e8c"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#affc1c0876ba5d8401938b166e6314e8c">screenTextures</a> [1]</td></tr>
<tr class="memitem:aed1d40b65dbb7b8fce5f8338c1900166"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#aed1d40b65dbb7b8fce5f8338c1900166">pixBuffObjs</a> [1]</td></tr>
<tr class="memitem:a4b009b422686af9594c19c777529ea49"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a4b009b422686af9594c19c777529ea49">pixelDataSize</a></td></tr>
<tr class="memitem:afeebcd4de6dcc325a5fb59b154206823"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#afeebcd4de6dcc325a5fb59b154206823">screenTextureID</a></td></tr>
<tr class="memitem:a82bc1f48111a3e7a71abdd5dbce3b3e3"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a82bc1f48111a3e7a71abdd5dbce3b3e3">screenWidthLoc</a></td></tr>
<tr class="memitem:a18d8432e475280b99a2cdb5786129011"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_screen_repaint.html#a18d8432e475280b99a2cdb5786129011">screenHeightLoc</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_drawable_object.html" title="Base class for drawing an object in this framework. Extend to draw your own objects.">DrawableObject</a> that takes a 'snapshot' of what's been already been drawn and after processing, renders the result to a screen-aligned textured quad. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012 </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a71bcf622b5c4452b26d2b9f84243bfb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_screen_repaint.html#a71bcf622b5c4452b26d2b9f84243bfb1">ScreenRepaint::ScreenRepaint</a> </td>
          <td>(</td>
          <td class="paramtype">GLuint&#160;</td>
          <td class="paramname"><em>activeTexture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>vertFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fragFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">activeTexture</td><td>The active texture. </td></tr>
    <tr><td class="paramname">vertFileName</td><td>Filename of the vertex shader code. </td></tr>
    <tr><td class="paramname">fragFileName</td><td>Filename of the fragment shader code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a751c2d2bd1e6134d28f7602957ee140b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_screen_repaint.html#a751c2d2bd1e6134d28f7602957ee140b">ScreenRepaint::~ScreenRepaint</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012 </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a983641dc820e4eabfb1e6b9a9966d82b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a983641dc820e4eabfb1e6b9a9966d82b">ScreenRepaint::environmentCalc</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Environment calculation. In this case, do nothing. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012 </dd></dl>

<p>Implements <a class="el" href="class_drawable_object.html#a209194d1e8aa9d51f809625ddffb8bd0">DrawableObject</a>.</p>

</div>
</div>
<a class="anchor" id="a49e16becb8912de9898f6fd423289093"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a49e16becb8912de9898f6fd423289093">ScreenRepaint::initFrameBufferObjects</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialises the frame buffer objects. If this is the first time this method is called, then the shader programs are read in and the texture and pixel buffer object handles are created and stored. Otherwise, if this is called as the result of a resize, a new ortho2D matrix is recalculated, and if the canvas is larger than previous sizes, the pixel buffer size is re-allocated. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Fix bug that causes texture to draw incorrectly at large canvas sizes.</dd></dl>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Fix bug that causes texture to draw incorrectly at large canvas sizes.</dd></dl>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012 </dd></dl>

</div>
</div>
<a class="anchor" id="a1ef4b6395e8a5758663d57062de966fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a1ef4b6395e8a5758663d57062de966fd">ScreenRepaint::localCleanup</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make sure default FBO is bound Cleanup textures Delete detached textures Delete the pixel buffer. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012 </dd></dl>

<p>Implements <a class="el" href="class_drawable_object.html#af2b5d9d42137f9bf15aecb5c00f79d4e">DrawableObject</a>.</p>

</div>
</div>
<a class="anchor" id="a2d0707ffbfbfc21f54913437688fa075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a2d0707ffbfbfc21f54913437688fa075">ScreenRepaint::render</a> </td>
          <td>(</td>
          <td class="paramtype">GLMatrixStack &amp;&#160;</td>
          <td class="paramname"><em>modelViewStack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLMatrixStack &amp;&#160;</td>
          <td class="paramname"><em>projectionStack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLShaderManager &amp;&#160;</td>
          <td class="paramname"><em>shaderManager</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Renders the quad. Note! THis should be called <em>after</em> all 3D drawing (i.e. after postDraw3D()), but <em>before</em> draw2D() The steps are as follows: First bind the PBO as the pack buffer, then read the pixels directly to the PBO and unbind Next bind the PBO as the unpack buffer, then push the pixels straight into the texture Setup texture unit for the render surface switch to the GL_TEXTURE* value that we are using as our screen texture holder write the pixels unbind Draw full screen quad with screen textures, calling <a class="el" href="class_screen_repaint.html#a7b26ae89de772e886010fbbdaee0fbc6" title="Sets up the screen render shader programs.">setupScreenRenderProg()</a> to access the chaders for the effect desired. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">modelViewStack</td><td>modelviewMatrix stack </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">projectionStack</td><td>projection matrix stack </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">shaderManager</td><td>Manager of default shaders </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_drawable_object.html#abca3d859cccf27811a99fdd3f895b34a">DrawableObject</a>.</p>

</div>
</div>
<a class="anchor" id="a6aac0dc8f8582386a39f2123e7723271"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a6aac0dc8f8582386a39f2123e7723271">ScreenRepaint::resize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes the screen-aligned quad and adjusts buffer memory. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>The width. </td></tr>
    <tr><td class="paramname">height</td><td>The height. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b26ae89de772e886010fbbdaee0fbc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_screen_repaint.html#a7b26ae89de772e886010fbbdaee0fbc6">ScreenRepaint::setupScreenRenderProg</a> </td>
          <td>(</td>
          <td class="paramtype">const M3DMatrix44f&#160;</td>
          <td class="paramname"><em>mat</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets up the screen render shader programs. </p>
<dl class="section author"><dt>Author:</dt><dd>Phil </dd></dl>
<dl class="section date"><dt>Date:</dt><dd>3/15/2012</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mat</td><td>The combined projection and model view matrix ("mvpMatrix") </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aa611aa789845c1503ac2fca30a992168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_screen_repaint.html#aa611aa789845c1503ac2fca30a992168">ScreenRepaint::fboInitialized</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>true if fbo initialized. </p>

</div>
</div>
<a class="anchor" id="ac78e420a0c861ad17c63f5e0ac5473dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="class_screen_repaint.html#ac78e420a0c861ad17c63f5e0ac5473dc">ScreenRepaint::fragmentFileName</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Filename of the fragment file. </p>

</div>
</div>
<a class="anchor" id="acb9d4f9bbb2328a04e59833932b484f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M3DMatrix44f <a class="el" href="class_screen_repaint.html#acb9d4f9bbb2328a04e59833932b484f5">ScreenRepaint::orthoMatrix</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The ortho matrix. </p>

</div>
</div>
<a class="anchor" id="aed1d40b65dbb7b8fce5f8338c1900166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#aed1d40b65dbb7b8fce5f8338c1900166">ScreenRepaint::pixBuffObjs</a>[1]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The pix buffer objects. </p>

</div>
</div>
<a class="anchor" id="a4b009b422686af9594c19c777529ea49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#a4b009b422686af9594c19c777529ea49">ScreenRepaint::pixelDataSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Size of the pixel data. </p>

</div>
</div>
<a class="anchor" id="abac42d5d09d3f52c6e2567c524c03049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLsizei <a class="el" href="class_screen_repaint.html#abac42d5d09d3f52c6e2567c524c03049">ScreenRepaint::screenHeight</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Height of the screen. </p>

</div>
</div>
<a class="anchor" id="a18d8432e475280b99a2cdb5786129011"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#a18d8432e475280b99a2cdb5786129011">ScreenRepaint::screenHeightLoc</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The screen height location. </p>

</div>
</div>
<a class="anchor" id="a0c691cfa0f3d656b02c019edf8944b6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLBatch <a class="el" href="class_screen_repaint.html#a0c691cfa0f3d656b02c019edf8944b6c">ScreenRepaint::screenQuad</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The screen quad. </p>

</div>
</div>
<a class="anchor" id="a89572d6a5da58811afcf33c26d007dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#a89572d6a5da58811afcf33c26d007dd9">ScreenRepaint::screenRenderProg</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The screen render prog. </p>

</div>
</div>
<a class="anchor" id="afeebcd4de6dcc325a5fb59b154206823"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#afeebcd4de6dcc325a5fb59b154206823">ScreenRepaint::screenTextureID</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Identifier for the screen texture. </p>

</div>
</div>
<a class="anchor" id="affc1c0876ba5d8401938b166e6314e8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#affc1c0876ba5d8401938b166e6314e8c">ScreenRepaint::screenTextures</a>[1]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The screen textures. </p>

</div>
</div>
<a class="anchor" id="a547abbfc913fe100639bd66b350991db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLsizei <a class="el" href="class_screen_repaint.html#a547abbfc913fe100639bd66b350991db">ScreenRepaint::screenWidth</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Width of the screen. </p>

</div>
</div>
<a class="anchor" id="a82bc1f48111a3e7a71abdd5dbce3b3e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint <a class="el" href="class_screen_repaint.html#a82bc1f48111a3e7a71abdd5dbce3b3e3">ScreenRepaint::screenWidthLoc</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The screen width location. </p>

</div>
</div>
<a class="anchor" id="a7052a5a8a1d72dcdff0268179a3f54ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="class_screen_repaint.html#a7052a5a8a1d72dcdff0268179a3f54ab">ScreenRepaint::vertexFileName</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Filename of the vertex file. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_screen_repaint_8h_source.html">ScreenRepaint.h</a></li>
<li>ScreenRepaint.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 15 2012 14:44:59 for FLTK Shader Support Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
